import{d as l,i as x,a as T,b as L,c as _,m as C,u as v,e as O,f as y,g as N,j as I,r as c,l as w,K,h as b,k as A,R as P,n as R,o as F,I as M,p as D,q as Y}from"./vendor.8e8f04a7.js";const $=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(t){if(t.ep)return;t.ep=!0;const a=o(t);fetch(t.href,a)}};$();l.extend(x);l.extend(T);l.extend(L);l.extend(_);l.extend(C);l.extend(v);l.extend(O);l.extend(y);l.extend(N);l.updateLocale("en",{weekStart:1});const j="modulepreload",k={},U="/",V=function(s,o){return!o||o.length===0?s():Promise.all(o.map(r=>{if(r=`${U}${r}`,r in k)return;k[r]=!0;const t=r.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${a}`))return;const i=document.createElement("link");if(i.rel=t?"stylesheet":j,t||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),t)return new Promise((d,n)=>{i.addEventListener("load",d),i.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>s())},f=I.exports.jsx,se=I.exports.jsxs,ae=I.exports.Fragment,S=()=>f("svg",{className:"spinner",viewBox:"0 0 50 50",children:f("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"})});var g=(e=>(e.eventFeedbackTimerStarted="eventFeedbackTimerStarted",e.checkAliveKey="checkAliveKey",e.ignoredEventsForFeedback="ignoredEventsForFeedback",e.authTime="authTime",e))(g||{}),p=(e=>(e.SET_ITEM="front localStorage setItem",e.GET_ITEM="front localStorage getItem",e.REMOVE_ITEM="front localStorage removeItem",e))(p||{});const B=(e,s,o=window)=>{const r=c.exports.useRef();c.exports.useEffect(()=>{r.current=s},[s]),c.exports.useEffect(()=>{if(!(o==null?void 0:o.addEventListener))return;const a=i=>r.current&&r.current(i);return o.addEventListener(e,a),()=>{o.removeEventListener(e,a)}},[e,r,o])};function q(e,s,o){try{localStorage.setItem(e,s)}catch(r){o&&o(p.SET_ITEM,r.toString())}}function J(e,s){var r;let o="";try{o=(r=localStorage.getItem(e))!=null?r:""}catch(t){s&&s(p.GET_ITEM,t.toString())}return o}function H(e,s){try{localStorage.removeItem(e)}catch(o){s&&s(p.REMOVE_ITEM,o.toString())}}const m={setItem:q,getItem:J,removeItem:H};function ie(e,s){const o=c.exports.useCallback(n=>{m.setItem(e,w.exports.isObject(n)&&!w.exports.isNull(n)?JSON.stringify(n):String(n))},[e]),[r,t]=c.exports.useState(()=>{const n=m.getItem(e);try{return n?JSON.parse(n):(s&&o(s),s)}catch{return n}}),a=c.exports.useCallback(n=>{const u=n instanceof Function?n(r):n;o(u),t(u)},[o,r]),i=c.exports.useCallback(()=>{m.removeItem(e),t(null)},[e]),d=c.exports.useCallback(n=>{if(n.storageArea===localStorage&&n.key===e&&n.oldValue!==n.newValue)if(n.newValue===null)t(null);else try{const u=JSON.parse(n.newValue);t(u)}catch{t(n.newValue)}},[e]);return B("storage",d),[r,a,i]}const W=e=>{document.cookie=`tokenId=${e}; path=/`},z=()=>{document.cookie="tokenId=; path=/; max-age=0"},E=e=>{W(e)},ce=()=>{z()},G="/services/rest/auth-support/check-authenticated-user",Q=()=>window.SUPPORT_DOMAIN&&window.SUPPORT_DOMAIN===window.location.host?"/auth/":window.KEYCLOAK_ENDPOINT&&window.KEYCLOAK_ENDPOINT!=="${KEYCLOAK_ENDPOINT}"?window.KEYCLOAK_ENDPOINT:`${void 0}/auth/`,X=()=>window.KEYCLOAK_CLIENT&&window.KEYCLOAK_CLIENT!=="${KEYCLOAK_CLIENT}"?window.KEYCLOAK_CLIENT:"",h=K({realm:"EduPowerKeycloak",url:Q(),clientId:X()}),Z=({children:e})=>{const[s,o]=c.exports.useState(!1),r=c.exports.useCallback(()=>!s,[s]),t=c.exports.useCallback(i=>{const{token:d}=i;d&&(E(d),o(!0))},[o]),a=c.exports.useCallback(i=>{if(i==="onAuthSuccess"){const d=h.tokenParsed,n=b(d,"auth_time"),u=m.getItem(g.authTime);n&&n.toString()!==u&&(m.setItem(g.authTime,n),m.setItem(g.ignoredEventsForFeedback,JSON.stringify([])),m.setItem(g.eventFeedbackTimerStarted,""),h.token&&E(h.token),A.create().get(G,{params:{returnTo:window.location.origin,errorLogoutRedirect:window.location.origin}}))}},[]);return f(P,{isLoadingCheck:r,LoadingComponent:f(S,{}),initOptions:{onLoad:"login-required",checkLoginIframe:!1},authClient:h,onTokens:t,onEvent:a,children:e})},ee=R(()=>V(()=>import("./index.4a181927.js").then(function(e){return e.ep}),["index.4a181927.js","vendor.8e8f04a7.js"]),{fallback:f(S,{})}),te=()=>f(Z,{children:f(ee,{})}),oe=window.location.hostname==="localhost";oe||F({dsn:window.SENTRY_DSN,integrations:[new M.BrowserTracing],tracesSampleRate:1,environment:window.location.host,release:window.PRODUCT_VERSION||"local"});const re={gtmId:window.GTM_ID,events:{clickNotifications:"click_notifications"}};D.initialize(re);Y.render(f(te,{}),document.getElementById("root"));export{ae as F,S as L,g as S,V as _,se as a,ce as c,oe as i,f as j,m as s,ie as u};
